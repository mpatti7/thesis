<!DOCTYPE html>
<html>
    <head>
        <title>Control</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/controls.css') }}">
    </head>
    {% extends "layout.html" %}

    <body>
        {% block content %}
            <div class="controls">
                <h2>Controls</h2>
            </div>
            
            <div class="controlBtns">
                <form action="{{url_for('controlsChange')}}" method="post">
                  <button type="submit" name="btnOff" value="off">Turn Off Lights</button>
                  <button type="submit" name="cancel" value="cancelTask">Cancel Loop</button>
                </form>
            </div>

            <div class="row">
                <form action="{{url_for('controlsChange')}}" method="post">
                    <div class="column" id="colorColumn">
                        <h4>Color</h4>
                        <label for="favcolor">Choose a color and hit "Apply"</label>
                        <br>        
                        <!--Change solid color-->
                        <input type="color" id="favcolor" name="favcolor" value="#ff0000">
                        
                        <br>
                    </div>
                    
                    <div class="column" id="functionsColumn">
                        <!--=============================================================-->
                        <!--                                                             -->
                        <!--                           BASIC                             -->
                        <!--                                                             -->
                        <!--=============================================================-->
                        <h4>Basic</h4>
                        <p>Select one and hit "Apply"</p>

                        <!--Change Function-->
                        <input type="radio" id="colorWipe" name="functions" value="colorWipe">
                        <label for="colorWipe">Color Wipe</label>

                        <br>

                        <input type="radio" id="rColorWipe" name="functions" value="rColorWipe">
                        <label for="colorWipe">Reverse Color Wipe</label>

                        <br>

                        <input type="radio" id="dotFill" name="functions" value="dotFill">
                        <label for="dotFill">Dot Fill</label>

                        <br>

                        <!--=============================================================-->
                        <!--                                                             -->
                        <!--                        REPEATING                            -->
                        <!--                                                             -->
                        <!--=============================================================-->
                        <h4>Repeating</h4>
                        <input type="radio" id="fade" name="functions" value="fade">
                        <label for="fade">Fade</label>

                        <br>

                        <input type="radio" id="theaterChase" name="functions" value="theaterChase">
                        <label for="theaterChase">Theater Chase</label>

                        <br>

                        <input type="radio" id="twinkle" name="functions" value="twinkle">
                        <label for="twinkle">Twinkle</label>

                        <br>

                        <input type="radio" id="disco" name="functions" value="disco">
                        <label for="disco">Disco</label>


                    </div>

                    <!--=============================================================================-->
                    <!--====                                                                     ====-->
                    <!--====                                                                     ====-->
                    <!--====                             OPTIONS                                 ====-->
                    <!--====                                                                     ====-->
                    <!--====                                                                     ====-->
                    <!--=============================================================================-->
                    <div class="column" id="optionsColumn">
                        <h4>Options</h4>

                        <div class="sliderDiv">
                            <label for="slider">Brightness:</label>
                            <input type="range" min="1" max="100" value="100" name="brightness" id="brightness">
                            <label for="brightness"><span id="value"></span></label>
                            <!-- <p>Value: <span id="value"></span></p> -->
                        </div>

                        <div class="delayDiv">
                            <input type="checkbox" id="delayCheck" name="delayCheck" value="delayCheck">
                            <label for="delay">Delay (ms):</label>
                            <input type="text" maxlength="4" size="1" value="0" name="delay" id="delay">   <!--Seconds-->
                        </div>

                        <div class="speedDiv" id="speedDivID">
                            <label for="speed">Fade Speed:</label>
                            <br>
                            <div class="subSpeedDiv">
                                <label for="speed1">Default</label>
                                <input type="radio" id="speed1" name="speed" value="default">
                                <br>
                                <label for="speed2">Medium</label>
                                <input type="radio" id="speed2" name="speed" value="medium">
                                <br>
                                <label for="speed3">Fast</label>
                                <input type="radio" id="speed3" name="speed" value="fast">
                            </div>
                        </div>

                        <div class="cyclesDiv" id="cyclesDivID">
                            <label for="cycles">Cycles:</label>
                            <input type="text" maxlength="4" size="1" value="0" name="cycles" id="cycles">
                        </div>

                        <input type="checkbox" id="2Colors" name="2Colors" value="2Colors">
                        <input type="color" id="favColor2" name="favColor2" value="#ff0000">
                        <label for="2Colors">2 Colors</label>
                        
                        <br>

                        <button type="submit">Apply</button>

                    </div>

                    <script>
                        var slider = document.getElementById("brightness");
                        var output = document.getElementById("value");
                        output.innerHTML = slider.value; // Display the default slider value
            
                        // Update the current slider value (each time you drag the slider handle)
                        slider.oninput = function() {
                            output.innerHTML = this.value;
                        }

                        var twoColors = document.getElementById("2Colors");
                        var color2 = document.getElementById("favColor2");
                        color2.style.display = "none";
                        twoColors.oninput = function(){
                            //Display the second color picker depending on if the box is checked or not
                            if(twoColors.checked == false){
                                color2.style.display = "none";
                            }
                            if(twoColors.checked){
                                color2.style.display = "block";                    
                            }
                        }

                        var delayCheck = document.getElementById("delayCheck");
                        var delayTxt = document.getElementById("delay");
                        delayTxt.disabled = true;
                        delayTxt.style.display = "none";
                        delayCheck.oninput = function(){
                            if(delayCheck.checked == false){
                                delayTxt.style.display = "none";
                                delayTxt.disabled = true;
                            }
                            if(delayCheck.checked){
                                delayTxt.style.display = "block";      
                                delayTxt.disabled = false;              
                            }
                        }

                        var fadeBtn = document.getElementById("fade");
                        var fadeSpeed = document.getElementById("speedDivID");
                        // fadeSpeed.style.display = "none";
                        // fadeBtn.oninput = function(){
                        //     if(fadeBtn.checked == false){
                        //         fadeSpeed.style.display = "none"
                        //         twoColors.disable = false;
                        //     }                           
                        //     if(fadeBtn.checked){
                        //         fadeSpeed.style.display = "block";
                        //         twoColors.disable = true;
                        //     }
                        //     if(fadeBtn.checked){
                        //         cycles.style.display = "block";
                        //     }
                        // }

                        var theaterBtn = document.getElementById("theaterChase");
                        var twinkleBtn = document.getElementById("twinkle");
                        var cycles = document.getElementById("cyclesDivID");
                        // cycles.style.display = "none";
                        // theaterBtn.oninput = function(){
                        //     if(theaterBtn.checked == false || fadeBtn.checked == false || twinkleBtn.checked == false){
                        //         cycles.style.display = "none"
                        //         // twoColors.disable = false;
                        //     }                           
                        //     if(theaterBtn.checked || twinkleBtn.checked){
                        //         cycles.style.display = "block";
                        //         // twoColors.disable = true;
                        //     }
                        // }

                        // var twinkleBtn = document.getElementById("twinkle");
                        // var color2 = document.getElementById("favColor2");
                        // twinkleBtn.oninput = function(){
                        //     if(twinkleBtn.checked == false){
                        //         color2.checked = false;
                        //     }
                        //     if(twinkleBtn.checked){
                        //         color2.checked = true;
                        //     }
                        // }

                    </script>

                </form>
            </div>
        {% endblock %}
    </body>
</html>